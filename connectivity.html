<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
   <!--     
    <script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-app.js";
  import { getDatabase, ref, set, onValue, push } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-database.js";
  //import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyCdTogMAqnWxQ7cpvToI5QpeRwpn5A6HCQ",
    authDomain: "armstrong-db9dc.firebaseapp.com",
    databaseURL: "https://armstrong-db9dc-default-rtdb.firebaseio.com",
    projectId: "armstrong-db9dc",
    storageBucket: "armstrong-db9dc.firebasestorage.app",
    messagingSenderId: "465166956237",
    appId: "1:465166956237:web:9330b04998080077cf9b84",
    measurementId: "G-LPV0S9D3PP"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  //const analytics = getAnalytics(app);
  const db=getDatabase(app);
   function writeData() {
      const newUserRef = push(ref(db, 'users'));
      set(newUserRef, {
        name: "KO",
        email: "ko@example.com"
      }).then(() => {
        alert("Data saved successfully!");
      }).catch((error) => {
        console.error("Error writing data:", error);
      });
    }

    // Read function
    function readData() {
      const dbRef = ref(db, 'users');
      onValue(dbRef, (snapshot) => {
        const data = snapshot.val();
        document.getElementById("output").innerText = JSON.stringify(data, null, 2);
      });
    }

    // Attach event listeners
    window.addEventListener("DOMContentLoaded", () => {
      document.getElementById("writeBtn").addEventListener("click", writeData);
      document.getElementById("readBtn").addEventListener("click", readData);
    });
  </script>
-->
  <script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-app.js";
  import { getDatabase, ref, set, onValue, push } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-database.js";

  // ✅ Your Firebase configuration (copy this from Firebase Console → Project Settings → General → Web App)
    const firebaseConfig = {
    apiKey: "AIzaSyCdTogMAqnWxQ7cpvToI5QpeRwpn5A6HCQ",
    authDomain: "armstrong-db9dc.firebaseapp.com",
    databaseURL: "https://armstrong-db9dc-default-rtdb.firebaseio.com",
    projectId: "armstrong-db9dc",
    storageBucket: "armstrong-db9dc.firebasestorage.app",
    messagingSenderId: "465166956237",
    appId: "1:465166956237:web:9330b04998080077cf9b84",
    measurementId: "G-LPV0S9D3PP"
  };
  // ✅ Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);

  function writeData() {
    const newUserRef = push(ref(db, 'users'));
    set(newUserRef, {
      name: "KO",
      email: "ko@example.com"
    })
    .then(() => alert("Data saved successfully!"))
    .catch((error) => console.error("Error writing data:", error));
  }

  function readData() {
    const dbRef = ref(db, 'users');
    onValue(dbRef, (snapshot) => {
      const data = snapshot.val();
      document.getElementById("output").innerText = JSON.stringify(data, null, 2);
    });
  }

  window.addEventListener("DOMContentLoaded", () => {
    document.getElementById("writeBtn").addEventListener("click", writeData);
    document.getElementById("readBtn").addEventListener("click", readData);
  });
</script>

</head>
<body>
  <h2>Firebase Realtime Database Demo</h2>
  <button id="writeBtn">Write Data</button>
  <button id="readBtn">Read Data</button>
  <pre id="output"></pre>
</body>
</html>